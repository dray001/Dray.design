import { Link } from "gatsby"
import React, {useState, useEffect} from "react"
import PropTypes from "prop-types"
import "./header.scss"
import { ThemeToggler } from 'gatsby-plugin-dark-mode'

const Header = ({siteTitle}) => {

   const [openState, setOpenstate] = useState(false);

   useEffect(()=> {
      setOpenstate(false);
   },[])

   const toggleMenu =()=> {
     setOpenstate(!openState);
     let cw = document.querySelector('.childrenWrapper');

     if(openState === false) {
       cw.classList.add('modalOn');
     }

     else {
      cw.classList.remove('modalOn');
     }
   }

   const closeMenu =()=> {
    setOpenstate(false);
   }
   
  return (
    <header>
      <div className={openState ? 'hambugerModal' : 'hambugerModal off' }></div>
    <div className="headerContainer">
    <Link onClick={closeMenu} to = '/'>
      <svg className="logo" width="50" height="25" viewBox="0 0 50 25" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M45.3449 15.5378C44.3608 16.1002 41.9709 16.9155 41.4086 16.2407C40.7057 15.3972 41.5492 13.9914 36.9099 15.5378C32.2706 17.0843 29.2091 18.4901 27.4908 12.8667C25.9444 7.80571 22.992 15.2566 13.0106 18.6307C2.64478 22.1346 -2.45356 16.5082 3.59148 10.758C9.35538 5.27517 38.878 7.24336 33.3952 19.3336C31.5676 22.567 29.0371 20.3177 27.9124 18.0683C26.7878 15.8189 27.2095 21.3018 25.8037 20.7394C24.3978 20.1771 24.2573 16.2407 22.992 15.5378C21.7268 14.8349 21.0238 20.7394 19.3368 20.3177C17.9872 19.9803 19.618 16.5219 20.6021 14.8349M6.40314 3.16643C7.94956 1.47947 16.3846 -3.441 17.931 11.1798C18.2122 20.1771 13.9946 23.9728 10.7612 23.9728C6.21687 23.9728 3.1697 6.82163 9.63655 4.99405M47.5942 15.9596H49" stroke="black" stroke-linecap="round"/>
      </svg>
      {/* <svg className="logo" width="83" height="43" viewBox="0 0 83 43" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M4 40.5C3.44772 40.5 3 40.9477 3 41.5C3 42.0523 3.44772 42.5 4 42.5V40.5ZM2.00702 0.638066C1.53099 0.358046 0.918085 0.516947 0.638066 0.99298C0.358046 1.46901 0.516947 2.08191 0.99298 2.36193L2.00702 0.638066ZM10.4616 6.00074C9.90969 6.02196 9.47951 6.48656 9.50074 7.03843C9.52196 7.59031 9.98656 8.02049 10.5384 7.99926L10.4616 6.00074ZM37.9021 22.4307C37.7397 21.9028 37.1801 21.6066 36.6523 21.769C36.1244 21.9314 35.8282 22.491 35.9906 23.0189L37.9021 22.4307ZM36.2393 36.6977C35.8487 37.0882 35.8487 37.7214 36.2393 38.1119C36.6298 38.5025 37.263 38.5025 37.6535 38.1119L36.2393 36.6977ZM38.346 29.633L37.351 29.7327L38.346 29.633ZM46.4452 23.7248C46.9975 23.7248 47.4452 23.2771 47.4452 22.7248C47.4452 22.1725 46.9975 21.7248 46.4452 21.7248V23.7248ZM56.0507 20.7552C55.9167 20.2194 55.3738 19.8936 54.838 20.0276C54.3022 20.1615 53.9765 20.7045 54.1104 21.2402L56.0507 20.7552ZM53.3535 35.6778L53.6697 36.6264L53.6697 36.6264L53.3535 35.6778ZM63.0143 20.2971C62.9235 19.7524 62.4082 19.3844 61.8635 19.4751C61.3187 19.5659 60.9507 20.0812 61.0415 20.6259L63.0143 20.2971ZM70.6241 20.9977L71.5962 20.7631C71.4882 20.3155 71.0886 19.9996 70.6282 19.9977C70.1678 19.9958 69.7656 20.3085 69.654 20.7552L70.6241 20.9977ZM68.8971 41.7225L69.0615 42.7089L68.8971 41.7225ZM82.3801 31.3446C82.8484 31.0519 82.9908 30.4349 82.6981 29.9666C82.4053 29.4982 81.7884 29.3559 81.3201 29.6486L82.3801 31.3446ZM55.1141 23.7242C55.6661 23.7057 56.0985 23.2432 56.08 22.6912C56.0614 22.1392 55.5989 21.7068 55.047 21.7253L55.1141 23.7242ZM4 42.5C5.45714 42.5 6.71094 42.5185 7.94401 42.1863C9.21817 41.8431 10.4009 41.1519 11.858 39.8871L10.547 38.3767C9.22454 39.5246 8.306 40.0175 7.4238 40.2551C6.50051 40.5038 5.54286 40.5 4 40.5V42.5ZM11.858 39.8871C14.4126 37.6696 15.5289 34.3353 15.7176 30.6759C15.9065 27.0107 15.1753 22.8967 13.9017 18.925C12.6261 14.9472 10.7897 11.0603 8.72259 7.83907C6.66994 4.64045 4.32988 2.00446 2.00702 0.638066L0.99298 2.36193C2.92012 3.49554 5.05479 5.8267 7.03937 8.91924C9.00945 11.9892 10.7728 15.7175 11.9972 19.5358C13.2237 23.3602 13.8929 27.2233 13.7202 30.573C13.5472 33.9284 12.54 36.6468 10.547 38.3767L11.858 39.8871ZM10.5384 7.99926C22.8843 7.52442 30.2654 17.3949 30.9379 26.3281C31.2729 30.7775 29.9261 34.8107 26.8835 37.1903C23.8541 39.5597 18.8774 40.4958 11.5023 38.1779L10.9027 40.0859C18.6394 42.5174 24.3808 41.6868 28.1157 38.7657C31.8374 35.8549 33.3009 31.0739 32.9323 26.1779C32.1977 16.4205 24.1157 5.47558 10.4616 6.00074L10.5384 7.99926ZM35.9906 23.0189C36.4973 24.6656 37.0983 27.2086 37.351 29.7327L39.341 29.5334C39.0727 26.8529 38.4398 24.1782 37.9021 22.4307L35.9906 23.0189ZM37.351 29.7327C37.5035 31.2558 37.5249 32.7319 37.3408 33.983C37.154 35.2533 36.7742 36.1628 36.2393 36.6977L37.6535 38.1119C38.6286 37.1368 39.1056 35.7282 39.3195 34.2741C39.5363 32.8007 39.5025 31.1459 39.341 29.5334L37.351 29.7327ZM39.3315 29.8029C39.5031 28.8076 40.0763 27.2607 41.2181 25.9812C42.334 24.7308 43.9973 23.7248 46.4452 23.7248V21.7248C43.3666 21.7248 41.1788 23.0215 39.7259 24.6496C38.299 26.2485 37.5859 28.1557 37.3605 29.4631L39.3315 29.8029ZM61.0415 20.6259C61.3372 22.4001 61.5635 24.4046 62.0462 25.8931C62.2928 26.6536 62.6396 27.3995 63.1854 27.9635C63.7641 28.5616 64.5207 28.906 65.4429 28.906V26.906C65.0699 26.906 64.8297 26.7868 64.6226 26.5727C64.3824 26.3245 64.1541 25.9097 63.9486 25.2761C63.5271 23.9762 63.3412 22.2585 63.0143 20.2971L61.0415 20.6259ZM65.4429 28.906C66.6556 28.906 67.6573 28.6627 68.4725 28.1665C69.2919 27.6678 69.8378 26.9653 70.2233 26.1944C70.6014 25.4382 70.8382 24.589 71.0313 23.7616C71.2399 22.8676 71.3742 22.1206 71.5943 21.2402L69.654 20.7552C69.4423 21.6019 69.2528 22.582 69.0836 23.3071C68.8989 24.0988 68.704 24.7608 68.4344 25.2999C68.1722 25.8243 67.8546 26.2012 67.4326 26.4581C67.0066 26.7174 66.3891 26.906 65.4429 26.906V28.906ZM69.652 21.2324C70.6501 25.3672 71.4383 30.2496 71.3766 34.1646C71.3457 36.1308 71.1007 37.7667 70.6195 38.9259C70.1476 40.0629 69.5171 40.6054 68.7327 40.7361L69.0615 42.7089C70.7574 42.4262 71.8349 41.2148 72.4667 39.6927C73.0893 38.1928 73.3438 36.2643 73.3764 34.1961C73.4418 30.0423 72.613 24.9757 71.5962 20.7631L69.652 21.2324ZM68.7327 40.7361C67.6734 40.9126 66.8649 40.6865 66.2755 40.271C65.6735 39.8467 65.2262 39.1716 65.0068 38.3377C64.5657 36.6618 65.0872 34.4797 66.9312 33.0045L65.6818 31.4428C63.2081 33.4217 62.4342 36.4208 63.0726 38.8467C63.3929 40.0637 64.079 41.1696 65.1231 41.9057C66.1798 42.6506 67.5301 42.9641 69.0615 42.7089L68.7327 40.7361ZM66.9312 33.0045C68.6488 31.6304 70.2711 32.0908 72.8944 32.6611C75.462 33.2193 78.5916 33.7123 82.3801 31.3446L81.3201 29.6486C78.2002 31.5985 75.7169 31.228 73.3192 30.7068C70.9772 30.1976 68.2818 29.3627 65.6818 31.4428L66.9312 33.0045ZM55.047 21.7253C49.8713 21.8993 47.2572 26.393 46.9495 30.2051C46.7947 32.1234 47.1915 34.0934 48.3215 35.4337C48.8986 36.1182 49.6613 36.6271 50.5975 36.8501C51.5268 37.0715 52.561 36.996 53.6697 36.6264L53.0373 34.7291C52.2031 35.0071 51.5543 35.0221 51.061 34.9045C50.5746 34.7887 50.175 34.5293 49.8505 34.1445C49.1773 33.346 48.8134 31.9722 48.9431 30.366C49.2043 27.1292 51.3397 23.8511 55.1141 23.7242L55.047 21.7253ZM53.6697 36.6264C55.9046 35.8815 57.1482 34.6236 57.7165 33.0231C58.2497 31.5215 58.1366 29.8356 58.0021 28.3615L56.0103 28.5433C56.1485 30.0577 56.1984 31.3214 55.8318 32.3538C55.5003 33.2873 54.7812 34.1478 53.0373 34.7291L53.6697 36.6264ZM57.9534 28.1317C56.9076 25.0429 56.4955 22.5343 56.0507 20.7552L54.1104 21.2402C54.5085 22.8327 54.9806 25.5878 56.059 28.7731L57.9534 28.1317ZM56.0892 28.8513C56.7262 30.3156 57.5814 31.4267 58.6376 31.8949C59.1899 32.1396 59.7878 32.201 60.3744 32.0346C60.95 31.8714 61.4358 31.5121 61.8261 31.0495C62.5902 30.1437 63.0867 28.7324 63.3009 26.976C63.518 25.1952 63.4578 22.9582 63.0143 20.2971L61.0415 20.6259C61.4615 23.1461 61.5043 25.1858 61.3156 26.7339C61.1238 28.3064 60.7055 29.2761 60.2973 29.7599C60.1014 29.9922 59.9367 30.0799 59.8289 30.1105C59.7321 30.1379 59.6136 30.1398 59.448 30.0664C59.0686 29.8982 58.4822 29.3384 57.9232 28.0535L56.0892 28.8513Z" fill="black"/>
      </svg> */}

    </Link>
      <div className={openState ? 'navHolder' : 'navHolder off' }>

        <div className="headerLink">
          <Link onClick={toggleMenu} to = '/articles/articlesListing' > Articles </Link>
          <Link onClick={toggleMenu} to ='/projects/projectListing' > Projects </Link>
          <Link onClick={toggleMenu} to = '/#AboutMe' > About Me </Link>
        </div>

        <div className="leaveAmessageButton">
          <a href="mailto:dareony@gmail.com">
          <span>Hire Me</span> 
          </a>    
        </div>
    
      </div>
      
      <div className='iconHolder'>
          <span className='darkLightSwitcher'>
              <ThemeToggler>
                {({ theme, toggleTheme }) => (
                  <label  className='switch'>
                    <input
                      type="checkbox"
                      onChange={e => {
                        toggleTheme(e.target.checked ? 'dark' : 'light')
                      }}
                      checked={theme === 'dark'}
                    />
                    <span className='sunnyMoon' />
                  </label>
                )}
              </ThemeToggler>
          </span>
          <div className= 'hambugerHolder'>
            <div onClick={toggleMenu} className={openState ? 'hambuger open' : 'hambuger' }>
              <span></span>
              <span></span>
              <span></span>
            </div>
          </div>
      </div>
      
    
    </div>
  </header>
  );
}

Header.propTypes = {
  siteTitle: PropTypes.string,
}

Header.defaultProps = {
  siteTitle: ``,
}

export default Header
